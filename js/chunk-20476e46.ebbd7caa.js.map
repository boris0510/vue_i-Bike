{"version":3,"sources":["webpack:///./src/views/foreground/Login.vue?240c","webpack:///./src/views/foreground/Login.vue","webpack:///./src/views/foreground/Login.vue?2407"],"names":["class","for","type","value","active","isLoading","signin","errors","id","name","placeholder","user","username","rules","password","components","Navber","Banner","Footer","data","methods","api","this","$http","post","then","response","success","token","expired","document","cookie","Date","$router","push","emitter","emit","message","status","render","__scopeId"],"mappings":"2IAAA,W,wICGOA,MAAM,c,GAEHA,MAAM,e,EAER,eAAkD,MAA9CA,MAAM,+BAA8B,SAAK,G,EAC7C,eAAuD,SAAhDC,IAAI,QAAQD,MAAM,mBAAkB,QAAI,G,EAG/C,eAAwD,SAAjDC,IAAI,WAAWD,MAAM,mBAAkB,MAAE,G,EAGhD,eAIM,OAJDA,MAAM,sBAAoB,CAC7B,eAEQ,cADN,eAA2C,SAApCE,KAAK,WAAWC,MAAM,gB,eAAc,a,KAG/C,eAA4F,UAApFH,MAAM,qDAAqDE,KAAK,UAAS,MAAE,G,ySAlBzF,eAAS,GACT,eAAS,GACT,eAmBM,MAnBN,EAmBM,CAlBJ,eAAqC,GAApBE,OAAQ,EAAAC,U,iDAAA,EAAAA,UAAS,K,mBAClC,eAgBO,OAhBP,EAgBO,CAfL,eAcO,GAdoB,SAAQ,EAAAC,QAAM,C,WACvC,gBADcC,EACd,EADcA,OACd,MADoB,CACpB,EACA,EACA,eAAsL,GAA/KL,KAAK,QAAQM,GAAG,QAAQC,KAAK,QAAST,MAAK,eAAkBO,EAAO,UAAkB,gBAAeG,YAAY,O,WAAgB,EAAAC,KAAKC,S,qDAAL,EAAAD,KAAKC,SAAQ,IAAEC,MAAM,kB,+BAC7J,eAAmE,GAArDJ,KAAK,QAAQT,MAAM,qBACjC,EACA,eAA8K,GAAvKE,KAAK,WAAWM,GAAG,WAAYR,MAAK,eAAkBO,EAAO,OAAyB,gBAAhBE,KAAK,KAA0BC,YAAY,K,WAAc,EAAAC,KAAKG,S,qDAAL,EAAAH,KAAKG,SAAQ,IAAED,MAAM,Y,+BAC3J,eAAgE,GAAlDJ,KAAK,KAAKT,MAAM,qBAC9B,EAKA,M,yBAIN,eAAS,I,uDAQI,GACbS,KAAM,QACNM,WAAY,CACVC,SAAA,KACAC,SAAA,KACAC,SAAA,MAEFC,KAPa,WAQX,MAAO,CACLd,WAAW,EACXM,KAAM,CACJC,SAAU,GACVE,SAAU,MAIhBM,QAAS,CACPd,OADO,WACG,WACFe,EAAE,UAAO,uCAAP,iBACRC,KAAKC,MAAMC,KAAKH,EAAKC,KAAKX,MAAMc,MAAK,SAACC,GACpC,GAAIA,EAASP,KAAKQ,QAAS,CACzB,IAAMC,EAAQF,EAASP,KAAKS,MACtBC,EAAUH,EAASP,KAAKU,QAC9BC,SAASC,OAAT,gBAA2BH,EAA3B,oBAA4C,IAAII,KAAKH,GAArD,KACA,EAAKI,QAAQC,KAAK,kBAClB,EAAKC,QAAQC,KAAK,eAAgB,CAAEC,QAASX,EAASP,KAAKkB,QAASC,OAAQ,iBAE5E,EAAKH,QAAQC,KAAK,eAAgB,CAAEC,QAASX,EAASP,KAAKkB,QAASC,OAAQ,iB,UCrDtF,EAAOC,OAASA,EAChB,EAAOC,UAAY,kBAEJ","file":"js/chunk-20476e46.ebbd7caa.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Login.vue?vue&type=style&index=0&id=18b50f23&scoped=true&lang=css\"","<template>\n  <Navber/>\n  <Banner/>\n  <div class=\"login mt-5\">\n    <Loading v-model:active=\"isLoading\"/>\n    <main class=\"form-signin\">\n      <Form v-slot=\"{ errors }\" @submit=\"signin\">\n        <h1 class=\"h2 mb-4 text-center fw-bold\">登入至後台</h1>\n        <label for=\"email\" class=\"visually-hidden\">電子信箱</label>\n        <Field type=\"email\" id=\"email\" name=\"Email\" :class=\"{ 'is-invalid': errors['Email'] }\" class=\"form-control\" placeholder=\"電子信箱\" v-model=\"user.username\" rules=\"email|required\"></Field>\n        <ErrorMessage name=\"Email\" class=\"invalid-feedback\"></ErrorMessage>\n        <label for=\"password\" class=\"visually-hidden\">密碼</label>\n        <Field type=\"password\" id=\"password\" :class=\"{ 'is-invalid': errors['密碼'] }\" name=\"密碼\" class=\"form-control\" placeholder=\"密碼\" v-model=\"user.password\" rules=\"required\"></Field>\n        <ErrorMessage name=\"密碼\" class=\"invalid-feedback\"></ErrorMessage>\n        <div class=\"checkbox mb-3 ms-1\">\n          <label>\n            <input type=\"checkbox\" value=\"remember-me\"> 記住我\n          </label>\n        </div>\n        <button class=\"w-100 btn btn-lg btn-dark btn-hover mb-3 rounded-0\" type=\"submit\">登入</button>\n      </Form>\n    </main>\n  </div>\n  <Footer/>\n</template>\n\n<script>\nimport Navber from '@/components/Navber.vue'\nimport Banner from '@/components/Banner.vue'\nimport Footer from '@/components/Footer.vue'\n\nexport default {\n  name: 'Login',\n  components: {\n    Navber,\n    Banner,\n    Footer\n  },\n  data () {\n    return {\n      isLoading: false,\n      user: {\n        username: '',\n        password: ''\n      }\n    }\n  },\n  methods: {\n    signin () {\n      const api = `${process.env.VUE_APP_API}/admin/signin`\n      this.$http.post(api, this.user).then((response) => {\n        if (response.data.success) {\n          const token = response.data.token\n          const expired = response.data.expired\n          document.cookie = `Token=${token};expires=${new Date(expired)};`\n          this.$router.push('/admin/product')\n          this.emitter.emit('message:push', { message: response.data.message, status: 'success' })\n        } else {\n          this.emitter.emit('message:push', { message: response.data.message, status: 'danger' })\n        }\n      })\n    }\n  }\n}\n</script>\n\n<style scoped>\n.login{\n  min-height: calc(100vh - 550px);\n}\n.form-signin {\n  width: 100%;\n  max-width: 340px;\n  padding: 15px;\n  margin: auto;\n}\n.form-signin .checkbox {\n  font-weight: 400;\n}\n.form-signin .form-control {\n  position: relative;\n  box-sizing: border-box;\n  height: auto;\n  padding: 10px;\n  font-size: 16px;\n}\n.form-signin .form-control:focus {\n  z-index: 2;\n}\n.form-signin input[type=\"email\"] {\n  margin-bottom: -1px;\n  border-bottom-right-radius: 0;\n  border-bottom-left-radius: 0;\n}\n.form-signin input[type=\"password\"] {\n  margin-bottom: 10px;\n  border-top-left-radius: 0;\n  border-top-right-radius: 0;\n}\n</style>\n","import { render } from \"./Login.vue?vue&type=template&id=18b50f23&scoped=true\"\nimport script from \"./Login.vue?vue&type=script&lang=js\"\nexport * from \"./Login.vue?vue&type=script&lang=js\"\n\nimport \"./Login.vue?vue&type=style&index=0&id=18b50f23&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-18b50f23\"\n\nexport default script"],"sourceRoot":""}